document.addEventListener("DOMContentLoaded",function(){var e=null;let r={email:"",phone:"",comments:""};document.querySelector("section.discount3");var t=function e(r){var t,o,l=window.location.search.substring(1).split("&");for(o=0;o<l.length;o++)if((t=l[o].split("="))[0]===r)return void 0===t[1]||decodeURIComponent(t[1]);return null};let o=(e,r={},t=()=>{})=>{if(void 0===e||!e)return t();try{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,...r}),setTimeout(()=>t(),250)}catch(o){console.log(o)}};function l(e){let r=e+"=",t=decodeURIComponent(document.cookie).split(";");for(let o=0;o<t.length;o++){let l=t[o];for(;" "==l.charAt(0);)l=l.substring(1);if(0==l.indexOf(r))return l.substring(r.length,l.length)}return""}function i(i){var n=0,a=document.querySelectorAll(i+" .hero-form-content").length,s="$$";function c(){if(n<a-1){var e=document.querySelectorAll(i+" .hero-form-content")[n],r=document.querySelectorAll(i+" .hero-form-content")[n+1];e.style.display="none",r.style.display="block",n++}else if(n=a-1){var e=document.querySelectorAll(i+" .hero-form-content")[n];e.style.display="none",n=0;var r=document.querySelectorAll(i+" .hero-form-content")[0];r.style.display="block"}}document.querySelectorAll(i+" .nextHeroForm").forEach(function(a){a.addEventListener("click",function(a){a.preventDefault();var u=!1,m=document.querySelectorAll(i+" .hero-form-content")[n],d=m.querySelector("h5").textContent,y="";if(m.classList.contains("hero-form-1"))m.querySelectorAll('.option-block .custom-checkbox input[type="checkbox"]').forEach(function(e){if(e.checked){var r=e.closest(".custom-checkbox").querySelector(".input-text-span");y+=r.textContent.trim()+"\n",e.checked=!1,u=!0}else{var r=e.closest(".custom-checkbox").querySelector(".checkbox-border");r.classList.add("invalid-input"),document.querySelector(i+" .hero-form-1 .error-msg").style.display="block"}}),u&&(document.querySelectorAll(i+" .checkbox-border").forEach(e=>e.classList.remove("invalid-input")),document.querySelector(i+" .hero-form-1 .error-msg").style.display="none",s+=d+"\n"+y,c());else if(m.classList.contains("hero-form-2"))m.querySelectorAll('.option-block .custom-radio input[type="radio"]').forEach(function(e){if(e.checked){var r=e.closest(".custom-radio").querySelector(".input-text-span");s+="\n"+d+"\n"+r.textContent.trim()+"\n",e.checked=!1,u=!0}else{var r=e.closest(".custom-radio").querySelector(".radio-border");r.classList.add("invalid-input"),document.querySelector(i+" .hero-form-2 .error-msg").style.display="block"}}),u&&(document.querySelectorAll(i+" .radio-border").forEach(e=>e.classList.remove("invalid-input")),document.querySelector(i+" .hero-form-2 .error-msg").style.display="none",c());else if(m.classList.contains("hero-form-3")){var h,f=!1,v=!1,p=document.querySelector(i+" .verify-fullname"),q=document.querySelector(i+" .verify-email");if(p.value.length>0?(r.fullname=document.querySelector(i+" #fullname").value.trim(),v=!0,p.classList.remove("invalid-input"),document.querySelector(i+" .fullname-error").style.display="none"):(p.classList.add("invalid-input"),document.querySelector(i+" .fullname-error").style.display="block"),q.value.length>0){if(q.checkValidity()){r.email=document.querySelector(i+" #email").value.trim(),r.phone=document.querySelector(i+" #phone").value.trim();var S=document.querySelector(i+" #hero-text-area").value.trim();S&&(s=s.replace("$$","Message: \n"+S+"\n\n")),r.comments=s,f=!0,document.querySelector(i+" .email-error").style.display="none",q.classList.remove("invalid-input")}else q.classList.add("invalid-input"),document.querySelector(i+" .error-check-valid").style.display="block",document.querySelector(i+" .email-error").style.display="none"}else q.classList.add("invalid-input"),document.querySelector(i+" .email-error").style.display="block";f&&v&&(document.querySelector(i+" .custom-textarea textarea").value=s,c(),h=i,document.querySelectorAll(h+" .hero-name, "+h+" .hero-last, "+h+" .options-inputs .input-box input").forEach(e=>e.value=""),document.querySelector(h+" .custom-textarea textarea").value="",document.querySelector(h+" .verify-email").classList.remove("invalid-input"),document.querySelector(h+" .form-title").classList.add("hidden-element"),document.querySelectorAll(h+" .error-msg, "+h+" .error-check-valid").forEach(e=>e.style.display="none"),window.innerWidth<768&&document.querySelector(h+" .hero-form-holder").classList.add("hidden-border"),function r(i,n="form"){var a=i;if(console.log("submit lead",i),a.hash=document.querySelector('input[name="hash"]').value,a.leadId=e,a.pathUrl=window.location.href,a.gclid=t("gclid"),a.googleClientId=l("_ga")?function e(r){if("boolean"==typeof r)return"";{let t=r.split(".");return`${t[2]}.${t[3]}`}}(l("_ga")):"",!a.fullName&&a.email){let s=a.email,c=s.match(/^([^@]+)/);a.fullName=c?c[1]:null}document.querySelectorAll("button").forEach(e=>e.setAttribute("disabled","disabled")),fetch("https://api.voolt.com/api/public/websitev2/1/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>e.json()).then(r=>{document.querySelectorAll("button").forEach(e=>e.removeAttribute("disabled")),"form"===n&&(document.querySelector(".form-holder").classList.add("hide-form"),document.querySelector(".quote-form--completed").classList.remove("hide-form"),window._conv_q=window._conv_q||[],_conv_q.push(["triggerConversion","100449874"]),o("submitLeadForm",{email:a.email})),"email-catcher"===n&&(document.querySelector(".get-a-quote-email").classList.add("hide-form"),document.querySelector(".get-a-quote-message").classList.remove("hide-form"),window._conv_q=window._conv_q||[],_conv_q.push(["triggerConversion","100449874"]),o("submitEmailCatcher",{email:a.email})),"exit-intent-email-catcher"===n&&(document.querySelector(".exit-intent-success").style.display="block",setTimeout(function(){document.querySelector(".show-exit-intent").style.display="none",window._conv_q=window._conv_q||[],_conv_q.push(["triggerConversion","100449874"]),o("submitEmailCatcher",{email:a.email})},1e3)),"comment-Hero"===n&&(window._conv_q=window._conv_q||[],_conv_q.push(["triggerConversion","100449874"]),o("submitLeadForm",{email:a.email})),"comment"===n&&(document.querySelector(".get-a-quote-message").classList.add("hide-form"),document.querySelector(".get-a-quote-thank-you").classList.remove("hide-form"),window._conv_q=window._conv_q||[],_conv_q.push(["triggerConversion","100449874"]),o("submitLeadForm",{email:a.email})),"form-js-not-popup"===n&&(document.querySelector(".get-a-quote-email").classList.add("hide-form"),document.querySelector(".get-a-quote-thank-you").classList.remove("hide-form"),window._conv_q=window._conv_q||[],_conv_q.push(["triggerConversion","100449874"]),o("submitLeadForm",{email:a.email})),e=r.data.leadId}).catch(e=>{console.error("Error:",e)})}(r,"form"))}})}),document.querySelectorAll(i+" .get-another-quote").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(i+" .form-title").classList.remove("hidden-element"),c()})})}document.querySelectorAll(".phone-js").forEach(function(e){e.addEventListener("input",function(){var r=e.value.replace(/\D/g,"");r.length>10&&(r=r.substring(0,10)),r.length<=3?e.value=r:r.length<=6?e.value=`(${r.substring(0,3)}) ${r.substring(3)}`:e.value=`(${r.substring(0,3)}) ${r.substring(3,6)}-${r.substring(6)}`})}),i("#topForm"),i("#bottomForm")});